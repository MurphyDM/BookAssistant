# Поток событий

## 1 Актёры
Пользователь — человек, использующий приложение.

## 2 Варианты использования
### 2.1 Создать проект
**Описание.** Вариант использования "Создать проект" позволяет пользователю создать новый проект.

**Предусловия.** Пользователь выбрал соответствующий пункт меню приложения.

**Основной поток:**
1. Приложение выводит окно создания проекта, в которое пользователь вводит информацию о проекте.
2. Пользователь вводит название проекта.
3. Приложение проверяет, существует ли проект с таким же названием. Если да, выполняется альтернативный поток А1.
4. Приложение создаёт конфигурационный файл проекта.
5. В конфигурационный файл записывается информация о проекте.
6. Приложение скрывает окно создания проекта.
7. Созданный проект открывается в меню проекта.
8. Вариант использования завершается.

**Альтернативный поток А1:**
1. Приложение оповещает пользователя о существовании проекта с таким же именем.
2. Приложение запрашивает повторный ввод названия проекта.
3. Возврат к пункту 3 основного потока.

### 2.2 Открыть проект
**Описание.** Вариант использования "Открыть проект" позволяет пользователю открыть существующий проект.

**Предусловия.** Пользователь выбрал соответствующий пункт меню приложения.

**Основной поток:**
1. Приложение выводит окно выбора существующих проектов.
2. В случае, если ни один проект не существует, выполняется альтернативный поток А2.
3. Пользователь выбирает существующий проект из списка.
4. Приложение скрывает окно выбора существующего проекта.
5. Открытый проект открывается в меню проекта.
6. Вариант использования завершается.

**Альтернативный поток А2:**
1. Приложение оповещает пользователя, что не имеется существующих проектов.
2. Приложение скрывает окно выбора существующих проектов.
3. Вариант использования завершается досрочно.

### 2.3 Добавить файл в проект
**Описание.** Вариант использования "Добавить файл в проект" позволяет пользователю добавить существующий файл в открытый проект.

**Предусловия.** В меню проектов имеется открытый проект; пользователь выбрал соответствующий пункт меню приложения.

**Основной поток:**
1. Приложение выводит окно существующих проектов.
2. В случае, если ни один проект не существует, выполняется альтернативный поток А3.
3. Пользователь выбирает существующий проект из списка.
4. В окне выводится список файлов, входящих в выбранный существующий проект.
5. Пользователь выбирает файл из списка.
6. Приложение скрывает окно существующих проектов.
7. Приложение обновляет конфигурационный файл проекта, в который происходит добавление существующего файла.
8. Добавленный файл открывается в меню проекта.
9. Вариант использования завершается.

**Альтернативный поток А3:**
1. Приложение оповещает пользователя, что не имеется существующих проектов.
2. Приложение скрывает окно выбора существующих проектов.
3. Вариант использования завершается досрочно.

### 2.4 Сохранить проект
**Описание.** Вариант использования "Сохранить проект" позволяет пользователю сохранить внесённые в проект изменения.

**Предусловия.** В меню проектов имеется открытый проект; пользователь выбрал соответствующий пункт меню приложения.

**Основной поток:**
1. Приложение проверяет, призошли ли в файлах проекта изменения с момента последнего сохранения. Если нет, вариант использования завершается досрочно.
2. Приложение сохраняет файлы, входящие в проект.
3. Приложение обновляет конфигурационный файл проекта.
4. Приложение сохраняет конфигурационный файл проекта.
5. Вариант использования завершается.

### 2.5 Удалить проект
**Описание.** Вариант использования "Удалить проект" позволяет пользователю удалить открытый проект.

**Предусловия.** В меню проектов имеется открытый проект; пользователь выбрал соответствующий пункт меню приложения.

**Основной поток:**
1. Приложение удаляет файлы, входящие в проект
2. Приложение удаляет конфигурационный файл проекта.
4. Приложение удаляет проект из меню проекта.
5. Приложение оповещает пользователя об удалении проекта.
6. Вариант использования завершается.

### 2.6 Создать файл
**Описание.** Вариант использования "Создать файл" позволяет пользователю создать новый файл в открытом в текущий момент проекте.

**Предусловия.** В меню проектов имеется открытый проект; пользователь выбрал соответствующий пункт меню приложения.

**Основной поток:**
1. Приложение выводит окно создания файла.
2. Пользователь вводит название файла в соответствующее поле окна создания файла.
3. Приложение проверяет, существует ли в открытом проекте файл с таким же названием. Если да, выполняется альтернативный поток А4.
4. В папке проекта создаётся файл с названием, заданным пользователем.
5. Приложение обновляет конфигурационный файл проекта.
6. Приложение скрывает окно создания файла.
7. Созданный файл добавляется в меню проекта.
8. Вариант использования завершается.

**Альтернативный поток А4:**
1. Приложение оповещает пользователя о существовании файла с таким же именем.
2. Приложение запрашивает повторный ввод названия файла.
3. Возврат к пункту 3 основного потока.

### 2.7 Открыть файл
**Описание.** Вариант использования "Открыть файл" позволяет пользователю открыть файл из открытого в текущий момент проекта.

**Предусловия.** В меню проектов имеется открытый проект.

**Основной поток:**
1. Приложение выводит окно создания файла.
2. Пользователь вводит название файла в соответствующее поле окна создания файла.
3. Приложение проверяет, существует ли в открытом проекте файл с таким же названием. Если да, выполняется альтернативный поток А5.
4. В папке проекта создаётся файл с названием, заданным пользователем.
5. Приложение обновляет конфигурационный файл проекта.
6. Приложение скрывает окно создания файла.
7. Созданный файл открывается в окне работы с текстом.
8. Вариант использования завершается.

**Альтернативный поток А5:**
1. Приложение оповещает пользователя о существовании файла с таким же именем.
2. Приложение запрашивает повторный ввод названия файла.
3. Возврат к пункту 3 основного потока.

### 2.8 Редактировать файл
**Описание.** Вариант использования "Редактировать файл" позволяет пользователю изменять содержимое выбранного файла в открытом в текущий момент проекте.

**Предусловия.** В меню проектов имеется открытый проект; в проекте существуют файлы.

**Основной поток:**
1. Пользователь двойным щелчком выбирает файл в меню проекта. 
2. Содержимое файла открывается в окне работы с текстом.
3. Пользователь может вносить изменения в содержимое файла.
4. Вариант использования завершается при закрытии приложения, открытии нового проекта, удалении файла либо открытии другого файла на редактирование.

### 2.9 Сохранить файл
**Описание.** Вариант использования "Сохранить файл" позволяет пользователю сохранить файл из открытого в текущий момент проекта.

**Предусловия.** В меню проектов имеется открытый проект; в проекте существуют файлы.

**Основной поток:**
1. Пользователь правым щелчком выбирает файл в меню проекта. 
2. Приложение выводит меню работы с файлом.
3. Пользователь выбирает пункт "Сохранить файл" из меню.
4. Приложение сохраняет файл.
5. Приложение вносит изменения в конфигурационный файл проекта.
6. Вариант использования завершается.

### 2.10 Удалить файл
**Описание.** Вариант использования "Удалить файл" позволяет пользователю  удалить файл из открытого в текущий момент проекта.

**Предусловия.** В меню проектов имеется открытый проект; в проекте существуют файлы.

**Основной поток:**
1. Пользователь правым щелчком выбирает файл в меню проекта. 
2. Приложение выводит меню работы с файлом.
3. Пользователь выбирает пункт "Удалить файл" из меню.
4. Приложение удаляет файл.
5. Приложение вносит изменения в конфигурационный файл проекта.
6. Приложение вносит изменения в конфигурационные файлы проектов, которые содержат удаляемый файл.
7. Вариант использования завершается.

### 2.11 Создать версию проекта
**Описание.** Вариант использования "Создать версию проекта" позволяет пользователю создать копию открытого в текущий момент проекта.

**Предусловия.** В меню проектов имеется открытый проект; пользователь выбрал соответствующий пункт меню приложения.

**Основной поток:**
1. Приложение сохраняет файлы проекта.
2. Приложение создаёт копию файлов проекта в отдельной папке.
3. Приложение обновляет конфигурационный файл проекта.
4. В меню управления версиями добавляется созданная версия.
5. Вариант использования завершается.

### 2.12 Сравнить версии
**Описание.** Вариант использования "Сравнить версии" позволяет пользователю сравнивать файлы разных версий открытого в текущий момент проекта.

**Предусловия.** В меню проектов имеется открытый проект; пользователь выбрал соответствующий пункт меню приложения.

**Основной поток:**
1. Приложение проверяет, имеется ли в проекте хотя бы две версии. Если нет, выполняется альтернативный поток А6.
2. Приложение выводит окно выбора сравниваемых версий.
3. Пользователь выбирает из списка две версии для сравнения.
4. Приложение открывает окно сравнения версий.
5. Пользователь выбирает файл для сравнения.
6. Если в одной из версий файл отсутствует, выполняется альтернативный поток А7.
7. Содержимое различных версий файла отображаются в окнах просмотра текста первого и второго документов.
8. Вариант использования завершается при удалении или открытии другого проекта, удалении файла, повторном вызове сравнения версий.

**Альтернативный поток А6:**
1. Приложение оповещает пользователя, что проект имеет менее двух версий.
2. Досрочное завершение варианта использования.

**Альтернативный поток А7:**
1. Приложение выводит в окно просмотра текста версии, в которой документ отсутствует, соответствующее сообщение.
2. В окно просмотра текста версии, в которой документ присутствует, приложение выводит содержимое данного документа.
3. Переход к пункту 8 основного потока.

### 2.13 Вернуться к версии
**Описание.** Вариант использования "Вернуться к версии" позволяет пользователю отменить все изменения, внесённые после создания определённой версии.

**Предусловия.** В меню проектов имеется открытый проект; пользователь выбрал соответствующий пункт меню приложения.

**Основной поток:**
1. Приложение проверяет, имеется ли в проекте хотя бы одна версия. Если нет, выполняется альтернативный поток А8.
2. Приложение выводит окно выбора версии.
3. Пользователь выбирает из списка версию, к которой желает вернуться.
4. Приложение удаляет файлы проекта, которых не было в выбранной версии.
5. Приложение добавляет в проект файлы, которые отсутстыуют в открытом проекте, но имеются в версии проекта.
6. Приложение заменяет файлами из версии проекта файлы, которые имеются и в открытом проекте, и в его версии. 
7. Приложение обновляет конфигурационный файл проекта
8. Вариант использования завершается.

**Альтернативный поток А8:**
1. Приложение оповещает пользователя, что проект не имеет версий.
2. Досрочное завершение варианта использования.

### 2.14 Удалить версию проекта
**Описание.** Вариант использования "Удалить версию проекта" позволяет пользователю удалить выбранную версию проекта.

**Предусловия.** В меню проектов имеется открытый проект; пользователь выбрал соответствующий пункт меню приложения.

**Основной поток:**
1. Приложение проверяет, имеется ли в проекте хотя бы одна версия. Если нет, выполняется альтернативный поток А9.
2. Приложение выводит окно выбора версии.
3. Пользователь выбирает версию для удаления из списка.
4. Приложение удаляет файлы версии проекта.
5. Приложение обновляет конфигурационный файл проекта.
6. Приложение скрывает окно выбора версии.
7. Вариант использования завершается. 

**Альтернативный поток А9:**
1. Приложение оповещает пользователя, что проект не имеет версий.
2. Досрочное завершение варианта использования.
